import*as r from"https://cdn.skypack.dev/three@0.137.5";const H=function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))t(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const m of s.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&t(m)}).observe(document,{childList:!0,subtree:!0});function l(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerpolicy&&(s.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?s.credentials="include":o.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function t(o){if(o.ep)return;o.ep=!0;const s=l(o);fetch(o.href,s)}};H();let w=!1;const h={plane:{width:1e3,height:400,widthSegments:100,heightSegments:100}};function N(){d.geometry.dispose(),d.geometry=new r.PlaneGeometry(h.plane.width,h.plane.height,h.plane.widthSegments,h.plane.heightSegments);const{array:n}=d.geometry.attributes.position,a=[];for(let t=0;t<n.length;t++){if(t%3==0){const o=n[t],s=n[t+1],m=n[t+2];n[t]=o+(Math.random()-.6)*2,n[t+1]=s+(Math.random()-.6)*2,n[t+2]=m+(Math.random()-.7)*1}a.push(Math.random()*Math.PI*2)}d.geometry.attributes.position.randomValues=a,d.geometry.attributes.position.originalPosition=d.geometry.attributes.position.array;const l=[];for(let t=0;t<d.geometry.attributes.position.count;t++)l.push(0,0,0);d.geometry.setAttribute("color",new r.BufferAttribute(new Float32Array(l),3))}const R=new r.Raycaster,f=new r.Scene,u=new r.PerspectiveCamera(100,innerWidth/innerHeight,.1,1e3),p=new r.WebGLRenderer;p.setSize(innerWidth,innerHeight);p.setPixelRatio(devicePixelRatio);document.body.appendChild(p.domElement);u.position.z=150;u.lookAt(0,.00135,0);console.log(u);const F=new r.PlaneGeometry(h.plane.width,h.plane.height,h.plane.widthSegments,h.plane.heightSegments),G=new r.MeshPhongMaterial({side:r.DoubleSide,flatShading:r.FlatShading,vertexColors:!0}),d=new r.Mesh(F,G);f.add(d);N();const g=new r.SphereGeometry(.15,.15,.15),y=new r.MeshPhongMaterial({color:65280,emissive:16777215,emissiveIntensity:1e3}),i=[];for(var e=0;e<5e3;e++)i[e]=new r.Mesh(g,y),i[e].position.setX(Math.random()*300),i[e].position.setY(Math.random()*250),i[e].position.setZ(Math.random()*200),f.add(i[e]);for(var e=5e3;e<1e4;e++)i[e]=new r.Mesh(g,y),i[e].position.setX(Math.random()*-300),i[e].position.setY(Math.random()*250),i[e].position.setZ(Math.random()*200),f.add(i[e]);for(var e=1e4;e<10500;e++)i[e]=new r.Mesh(g,y),i[e].position.setX(Math.random()*300),i[e].position.setY(Math.random()*-100),i[e].position.setZ(Math.random()*200),f.add(i[e]);for(var e=10500;e<11e3;e++)i[e]=new r.Mesh(g,y),i[e].position.setX(Math.random()*-300),i[e].position.setY(Math.random()*-100),i[e].position.setZ(Math.random()*200),f.add(i[e]);const L=new r.DirectionalLight(16777215,1);L.position.set(0,0,1);f.add(L);const I=new r.DirectionalLight(16777215,1);I.position.set(0,0,-1);f.add(I);const M={x:void 0,y:void 0};let v=0,b=0;function W(){setTimeout(function(){requestAnimationFrame(W)},12-b),p.render(f,u),R.setFromCamera(M,u),v+=.01,w&&(b+=.006,V(u,b));const{array:n,originalPosition:a,randomValues:l}=d.geometry.attributes.position;for(let t=0;t<n.length;t+=3)n[t]=a[t]+Math.cos(v+l[t])*.029,n[t+1]=a[t+1]+Math.sin(v+l[t+1])*.029;d.geometry.attributes.position.needsUpdate=!0}W();addEventListener("mousemove",n=>{M.x=n.clientX/innerWidth*2-1,M.y=-(n.clientY/innerHeight)*2+1});document.getElementById("ViewWork").onclick=function(a){document.getElementById("start_text").className="fade-out ",setTimeout(function(){document.getElementById("start_text").style="display:none;",w=!0},2e3)};function V(n,a){if(n.position.y<145){var l=0,t=150,o=0,s=40,m=150,A=40,c=a,x=(1-c)*(1-c)*t+2*(1-c)*c*s+c*c*A,P=c*c*m,S=40,E=o-(o-m)*c,B=(x-S)/(P-E),C=E-1/B*S;n.position.set(l,P,x),n.lookAt(0,C,0)}else document.body.removeChild(p.domElement),setTimeout(function(){document.getElementById("textapp").className='"absolute text-black text-center "',document.getElementById("after_text").style="display:block;bac",document.getElementById("after_text").className="fade-in text-black text-4xl"},500),w=!1}window.addEventListener("resize",X,!1);function X(){u.aspect=window.innerWidth/window.innerHeight,u.updateProjectionMatrix(),p.setSize(innerWidth,innerHeight)}
